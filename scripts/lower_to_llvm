#!/bin/bash

PASSES="-convert-linalg-to-loops \
-lower-affine \
-convert-scf-to-cf \
-convert-arith-to-llvm \
-convert-memref-to-llvm \
-convert-math-to-llvm \
-convert-func-to-llvm \
-convert-math-to-libm \
-reconcile-unrealized-casts \
-llvm-legalize-for-export"

./build/bin/lagrad-opt "${1:-/dev/stdin}" $PASSES
